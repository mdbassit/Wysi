/*!
 * Copyright (c) 2023 Momo Bassit.
 * Licensed under the MIT License (MIT)
 * https://github.com/mdbassit/Wysi
 */
!function(t,e){"use strict";var a={el:"[data-wysi], .wysi-field",tools:["format","|","bold","italic","|",{label:"Text alignment",items:["alignLeft","alignCenter","alignRight","alignJustify"]},"|","ul","ol","|","indent","outdent","|","link","image"],darkMode:!1,height:200,autoGrow:!1,autoHide:!1,allowedTags:{br:{attributes:[],isEmpty:!0}},customTags:[]},i={},n="wysi-selected",o=function(t,e){return t.appendChild(e)},r=function(t,a){return void 0===a&&(a=null),e.execCommand(t,!1,a)},l=function(t,e){return t.classList&&t.classList.contains(e)},s=function(t,e){return t.getAttribute(e)},c=function(t,a){return void 0===a&&(a=e),a.querySelector(t)},u=function(t,a){return void 0===a&&(a=e),a.querySelectorAll(t)},d=function(t,e){return t.removeChild(e)},f=function(t,e){return t.removeAttribute(e)},m=function(t,e,a){return t.setAttribute(e,a)},h=function(t){return t.stopImmediatePropagation()},v=function(t){return t.toLowerCase()};function p(t){r("formatBlock","<"+t+">")}var b,y={format:{tags:["p","h1","h2","h3","h4"],styles:["text-align"],label:"Select block format",paragraph:"Paragraph",heading:"Heading",action:function(t){return p(t)}},quote:{tags:["blockquote"],label:"Quote",action:function(){return p("blockquote")}},bold:{tags:["strong"],alias:["b"],label:"Bold"},italic:{tags:["em"],alias:["i"],label:"Italic"},underline:{tags:["u"],label:"Underline"},strike:{tags:["s"],alias:["del","strike"],label:"Strike-through",command:"strikeThrough"},alignLeft:{label:"Align left",command:"justifyLeft"},alignCenter:{label:"Align center",command:"justifyCenter"},alignRight:{label:"Align right",command:"justifyRight"},alignJustify:{label:"Justify",command:"justifyFull"},ul:{tags:["ul"],extraTags:["li"],styles:["text-align"],label:"Bulleted list",command:"insertUnorderedList"},ol:{tags:["ol"],extraTags:["li"],styles:["text-align"],label:"Numbered list",command:"insertOrderedList"},indent:{label:"Increase indent"},outdent:{label:"Decrease indent"},link:{tags:["a"],attributes:["href"],attributeLabels:["URL"],hasForm:!0,label:"Link",action:function(t){return r("createLink",t)}},image:{tags:["img"],attributes:["src","alt"],attributeLabels:["URL","Alternative text"],isEmpty:!0,hasForm:!0,label:"Image",action:function(t,e,a){void 0===e&&(e="");var i='<img src="'+t+'" alt="'+e+'" class="wysi-selected">',n=a?a.replace(/<img[^>]+>/i,i):i;r("insertHTML",n)}},hr:{tags:["hr"],isEmpty:!0,label:"Horizontal line",command:"insertHorizontalRule"},removeFormat:{label:"Remove format"},unlink:{label:"Remove link"}};function g(t,e,a,i){"string"==typeof a?t.addEventListener(e,(function(t){var e=t.target;e.matches(a)&&i.call(e,t)})):(i=a,t.addEventListener(e,i))}function w(t){var e=H("template");return e.innerHTML=t.trim(),e.content}function x(t){return t?JSON.parse(JSON.stringify(t)):t}function H(t,a){var i=e.createElement(t);if(a)for(var n in a)"_"===n[0]?i[n.substring(1)]=a[n]:m(i,n,a[n]);return i}function E(t,a){a=void 0!==a?a:[],"loading"!==e.readyState?t.apply(void 0,a):g(e,"DOMContentLoaded",(function(){t.apply(void 0,a)}))}function k(t,e,a){void 0===a&&(a=[]);var i=y[t];if(i){var n=i.command||t,o=i.action||function(){return r(n)};T(),o.apply(void 0,a),e.focus()}}function L(t){for(var a,i,n,o=[];t&&t!==e.body;){if(t.tagName){if(l(t,"wysi-wrapper")){a=t;break}o.push(t)}t=t.parentNode}if(a){var r=a.children;i=r[0],n=r[1]}return{toolbar:i,region:n,nodes:o}}function z(t){return s(t,"data-wid")}function N(t){var e,a=t.parentNode,i=t.id;if("LABEL"===a.nodeName?e=a:void 0!==i&&(e=c('label[for="'+i+'"]')),e){var n=[].filter.call(e.childNodes,(function(t){return 3===t.nodeType})).map((function(t){return t.textContent.replace(/\s+/g," ").trim()})).filter((function(t){return""!==t}))[0];if(n)return n}return""}function T(){b&&(M(b),b=void 0)}function A(t){b=t}function M(t){var a=e.getSelection();a.removeAllRanges(),a.addRange(t)}function C(t,e){m(t,"aria-expanded",e)}function S(t){var e=t.label,a=t.items,i=a[0],n=H("div",{class:["wysi-listbox"].concat(t.classes||[]).join(" ")}),r=H("button",{type:"button",title:e,"aria-label":e+" "+i.label,"aria-haspopup":"listbox","aria-expanded":!1,_innerHTML:B(i)}),l=H("div",{role:"listbox",tabindex:-1,"aria-label":e});return a.forEach((function(t){var e=H("button",{type:"button",role:"option",tabindex:-1,"aria-label":t.label,"aria-selected":!1,"data-action":t.action,"data-option":t.name||"",_innerHTML:B(t)});o(l,e)})),o(n,r),o(n,l),n}function B(t){return t.icon?'<svg><use href="#wysi-'+t.icon+'"></use></svg>':t.label}function R(t){var e="true"===s(t,"aria-expanded"),a=t.nextElementSibling,i=c('[aria-selected="true"]',a);i||(i=a.firstElementChild),C(t,!e),i.focus()}function V(t){var e=t.parentNode,a=e.previousElementSibling,i=c('[aria-selected="true"]',e);i&&m(i,"aria-selected","false"),m(t,"aria-selected","true"),a.innerHTML=t.innerHTML}function Z(){var t=c('.wysi-listbox [aria-expanded="true"]');t&&C(t,!1)}function D(t){var e=c('.wysi-popover [aria-expanded="true"]');e&&C(e,!1),t||T()}void 0!==NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),g(e,"click",".wysi-listbox > button",(function(t){Z(),R(t.target),h(t)})),g(e,"keydown",".wysi-listbox > button",(function(t){switch(t.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":R(t.target),t.preventDefault()}})),g(e.documentElement,"mousemove",".wysi-listbox > div > button",(function(t){t.target.focus()})),g(e,"click",".wysi-listbox > div > button",(function(t){var a=t.target,i=s(a,"data-action"),n=s(a,"data-option"),o=L(a).region,r=e.getSelection();r&&o.contains(r.anchorNode)&&k(i,o,[n]),V(a)})),g(e,"keydown",".wysi-listbox > div > button",(function(t){var e=t.target,a=e.parentNode,i=a.previousElementSibling,n=!0;switch(t.key){case"ArrowUp":var o=e.previousElementSibling;o&&o.focus();break;case"ArrowDown":var r=e.nextElementSibling;r&&r.focus();break;case"Home":a.firstElementChild.focus();break;case"End":a.lastElementChild.focus();break;case"Tab":e.click();break;case"Escape":C(i,!1);break;default:n=!1}n&&t.preventDefault()})),g(e,"click",(function(t){Z()})),g(e,"click",".wysi-popover > button",(function(t){D(),function(t){var a=u("input",t.nextElementSibling),i=e.getSelection(),o=i.anchorNode,r=L(o),l=r.region,d=r.nodes,f=[];if(l){var m=s(t,"data-action"),h=y[m],p=d.filter((function(t){return h.tags.includes(v(t.tagName))}))[0],b=!0;if(p||(p=c("."+n,l),b=!1),p){var g=e.createRange();b?g.selectNodeContents(p):g.selectNode(p),A(g),h.attributes.forEach((function(t){f.push(s(p,t))}))}else i&&l.contains(o)&&i.rangeCount&&A(i.getRangeAt(0))}a.forEach((function(t,e){t.value=f[e]||""})),C(t,!0),a[0].focus()}(t.target),h(t)})),g(e,"click",".wysi-popover > div > button[data-action]",(function(t){!function(t){var e=s(t,"data-action"),a=u("input",t.parentNode),i=L(t).region,o=[];if(a.forEach((function(t){o.push(t.value)})),"image"===e){var r=c("."+n,i),l=r?r.parentNode:{};r&&"A"===l.tagName&&o.push(l.outerHTML)}k(e,i,o)}(t.target),D(!0)})),g(e,"click",".wysi-popover > div > button:not([data-action])",(function(t){D()})),g(e,"click",".wysi-popover *:not(button)",(function(t){h(t)})),g(e,"keydown",".wysi-popover *",(function(t){var e=t.target,a=e.parentNode,i="DIV"===a.tagName?a:a.parentNode;switch(t.key){case"Tab":var n=c("input",i);t.shiftKey?e===n&&(i.lastElementChild.focus(),t.preventDefault()):e.nextElementSibling||e.parentNode.nextElementSibling||(n.focus(),t.preventDefault());break;case"Enter":if("INPUT"===e.tagName)c("[data-action]:last-of-type",i).click(),t.preventDefault();break;case"Escape":D()}}));var j=!1;function U(t,e){var a=H("div",{class:"wysi-toolbar"});return t.forEach((function(t){switch(t){case"|":o(a,H("div",{class:"wysi-separator"}));break;case"-":o(a,H("div",{class:"wysi-newline"}));break;case"format":o(a,function(t){var e=t.format||y.format.label,a=t.paragraph||y.format.paragraph,i=t.heading||y.format.heading,n="wysi-format",o=y.format.tags.map((function(t){return{name:t,label:"p"===t?a:i+" "+t.substring(1),action:"format"}}));return S({label:e,items:o,classes:n})}(e));break;default:"object"==typeof t?t.items&&o(a,function(t,e){var a=t.label||e.select||"Select an item",i=t.items.map((function(t){var a=y[t];return{label:e[t]||a.label,icon:t,action:t}}));return S({label:a,items:i})}(t,e)):function(t,e,a){var i=y[t],n=a[t]||i.label,r=H("button",{type:"button",title:n,"aria-label":n,"aria-pressed":!1,"data-action":t,_innerHTML:'<svg><use href="#wysi-'+t+'"></use></svg>'});if(i.hasForm){var l=function(t,e,a){var i=y[t],n=i.attributeLabels,r=i.attributes.map((function(t,e){return{name:t,label:a[t]||n[e]}})),l=H("div",{class:"wysi-popover"}),s=H("div",{tabindex:-1});m(e,"aria-haspopup",!0),m(e,"aria-expanded",!1),o(l,e),o(l,s),r.forEach((function(t){var e=H("label"),a=H("span",{_textContent:t.label}),i=H("input",{type:"text"});o(e,a),o(e,i),o(s,e)}));var c=H("button",{type:"button",_textContent:a.cancel||"Cancel"}),u=H("button",{type:"button","data-action":t,_textContent:a.save||"Save"});if("link"===t){var d="unlink",f=a[d]||y[d].label;o(s,H("button",{type:"button",title:f,"aria-label":f,"data-action":d,_innerHTML:'<svg><use href="#wysi-delete"></use></svg>'}))}return o(s,c),o(s,u),l}(t,r,a);o(e,l)}else o(e,r)}(t,a,e)}})),a}g(e,"click",(function(t){j||D()})),g(e,"mousedown",".wysi-popover, .wysi-popover *",(function(t){j=!0})),g(e,"mouseup",(function(t){setTimeout((function(){j=!1}))})),g(e,"click",".wysi-editor, .wysi-editor *",(function(t){var e=c("."+n);e&&e!==t.target&&e.classList.remove(n)})),g(e,"click",".wysi-editor img",(function(t){var a=t.target,i=e.createRange();a.classList.add(n),i.selectNode(a),M(i)})),g(e,"click",".wysi-toolbar > button",(function(t){var a=t.target,i=s(a,"data-action"),n=L(a).region,o=e.getSelection();o&&n.contains(o.anchorNode)&&k(i,n)})),g(e,"selectionchange",(function(){var t=L(e.getSelection().anchorNode),a=t.toolbar,n=t.region,o=t.nodes,r=o.map((function(t){return v(t.tagName)}));if(n){var l=z(n),d=i[l].allowedTags;u('[aria-pressed="true"]',a).forEach((function(t){return m(t,"aria-pressed","false")})),u(".wysi-listbox > div > button:first-of-type",a).forEach((function(t){return V(t)})),r.forEach((function(t,e){switch(t){case"p":case"h1":case"h2":case"h3":case"h4":case"li":var i=c('[data-action="format"][data-option="'+t+'"]',a),n=o[e].style.textAlign;if(i&&V(i),n){var r="align"+n.charAt(0).toUpperCase()+n.slice(1),l=c('[data-action="'+r+'"]',a);l&&("listbox"===s(l.parentNode,"role")?V(l):m(l,"aria-pressed","true"))}break;default:var u=d[t],f=u?u.toolName:void 0;if(f){var h=c('[data-action="'+f+'"]',a);m(h,"aria-pressed","true")}}}))}})),E((function(){var t=w('<svg id="wysi-svg-icons" style="display: none;" xmlns="http://www.w3.org/2000/svg"><symbol id="wysi-bold" viewBox="0 0 24 24"><path d="M16.5,9.5A3.5,3.5,0,0,0,13,6H8.5a1,1,0,0,0-1,1V17a1,1,0,0,0,1,1H13a3.49,3.49,0,0,0,2.44-6A3.5,3.5,0,0,0,16.5,9.5ZM13,16H9.5V13H13a1.5,1.5,0,0,1,0,3Zm0-5H9.5V8H13a1.5,1.5,0,0,1,0,3Z"></path></symbol><symbol id="wysi-italic" viewBox="0 0 24 24"><path d="M17,6H11a1,1,0,0,0,0,2h1.52l-3.2,8H7a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2H11.48l3.2-8H17a1,1,0,0,0,0-2Z"></path></symbol><symbol id="wysi-underline" viewBox="0 0 24 24"><path d="M12,15.5a5,5,0,0,0,5-5v-5a1,1,0,0,0-2,0v5a3,3,0,0,1-6,0v-5a1,1,0,0,0-2,0v5A5,5,0,0,0,12,15.5Zm5,2H7a1,1,0,0,0,0,2H17a1,1,0,0,0,0-2Z"></path></symbol><symbol id="wysi-strike" viewBox="0 0 24 24"><path d="M12 6C9.33 6 7.5 7.34 7.5 9.5c0 .58.12 1.07.35 1.5H13c-1.49-.34-3.49-.48-3.5-1.5 0-1.03 1.08-1.75 2.5-1.75s2.5.83 2.5 1.75h2C16.5 7.4 14.67 6 12 6zm-5.5 6c-.67 0-.67 1 0 1h4.35c.5.17 1.04.34 1.65.5.58.15 1.75.23 1.75 1s-.66 1.75-2.25 1.75-2.5-1.01-2.5-1.75h-2c0 1.64 1.33 3.5 4.5 3.5s4.5-2.08 4.5-3.5c0-.58-.05-1.07-.2-1.5h1.2c.67 0 .67-1 0-1z"></path></symbol><symbol id="wysi-alignLeft" viewBox="0 0 24 24"><path d="m4 8h16c1.33 0 1.33-2 0-2h-16c-1.33 0-1.33 2 0 2zm0 5h12c1.33 0 1.33-2 0-2h-12c-1.33 0-1.33 2 0 2zm16 3h-16c-1.33 0-1.33 2 0 2h16c1.34 0 1.29-2 0-2z"></path></symbol><symbol id="wysi-alignCenter" viewBox="0 0 24 24"><path d="m20 8h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm-4 5h-8c-1.33 0-1.33-2 0-2h8c1.33 0 1.33 2 0 2zm-12 3h16c1.33 0 1.33 2 0 2h-16c-1.34 0-1.29-2 0-2z"></path></symbol><symbol id="wysi-alignRight" viewBox="0 0 24 24"><path d="m20 8h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm0 5h-12c-1.33 0-1.33-2 0-2h12c1.33 0 1.33 2 0 2zm-16 3h16c1.33 0 1.33 2 0 2h-16c-1.34 0-1.29-2 0-2z"></path></symbol><symbol id="wysi-alignJustify" viewBox="0 0 24 24"><path d="m20 8h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm0 5h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm-16 3h16c1.33 0 1.33 2 0 2h-16c-1.34 0-1.29-2 0-2z"></path></symbol><symbol id="wysi-ul" viewBox="0 0 24 24"><path d="M3 6a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1zm4 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H7zm-4 5a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1zm4 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H7zm-4 5a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1zm4 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H7z"></path></symbol><symbol id="wysi-ol" viewBox="0 0 24 24"><path d="M4 5c-.25 0-.5.17-.5.5v3c0 .67 1 .67 1 0v-3c0-.33-.25-.5-.5-.5zm4.5 1c-1.33 0-1.33 2 0 2h12c1.33 0 1.33-2 0-2zm-6 5.5h.75c0-.43.34-.75.75-.75.4 0 .75.28.75.75L2.5 13.25V14h3v-.75H3.75L5.5 12v-.5c0-.9-.73-1.49-1.5-1.5-.77 0-1.5.59-1.5 1.5zm6-.5c-1.33 0-1.33 2 0 2h12c1.33 0 1.33-2 0-2zM4 15c-.83 0-1.5.63-1.5 1.25h.75c0-.28.34-.5.75-.5s.75.22.75.5-.34.5-.75.5v.5c.41 0 .75.22.75.5s-.34.5-.75.5-.75-.22-.75-.5H2.5c0 .62.67 1.25 1.5 1.25s1.5-.5 1.5-1.12c0-.34-.2-.66-.56-.88.35-.2.56-.53.56-.87 0-.62-.67-1.12-1.5-1.12zm4.5 1c-1.33 0-1.33 2 0 2h12c1.33 0 1.33-2 0-2z"></path></symbol><symbol id="wysi-indent" viewBox="0 0 24 24"><path d="m20 8h-15.9c-1.33 0-1.33-2 0-2h15.9c1.33 0 1.33 2 0 2zm2.86e-4 5h-9.08c-1.33 0-1.33-2 0-2h9.08c1.33 0 1.33 2 0 2zm-16.7-3.31c0.356-0.423 0.988-0.477 1.41-0.12l2 1.66c0.483 0.4 0.483 1.14 0 1.54l-2 1.66c-0.179 0.153-0.405 0.238-0.64 0.24-0.297 4.83e-4 -0.58-0.131-0.77-0.36-0.354-0.425-0.296-1.06 0.13-1.41l1.08-0.9-1.08-0.9c-0.426-0.353-0.484-0.985-0.13-1.41zm0.77 6.31h15.9c1.33 0 1.33 2 0 2h-15.9c-1.33 0-1.33-2 0-2z"></path></symbol><symbol id="wysi-outdent" viewBox="0 0 24 24"><path d="m4.1 6c-1.33 0-1.33 2 0 2h15.9c1.33 0 1.33-2 0-2h-15.9zm1.96 3.33c-0.224 0.00238-0.448 0.0803-0.633 0.236l-2 1.66c-0.483 0.4-0.483 1.14 0 1.54l2 1.66c0.179 0.153 0.404 0.238 0.639 0.24 0.297 4.83e-4 0.581-0.131 0.771-0.359 0.354-0.425 0.295-1.06-0.131-1.41l-1.08-0.9 1.08-0.9c0.426-0.353 0.485-0.985 0.131-1.41-0.2-0.238-0.489-0.359-0.777-0.355zm4.88 1.67c-1.33 0-1.33 2 0 2h9.08c1.33 0 1.33-2 0-2h-9.08zm-6.87 5c-1.33 0-1.33 2 0 2h15.9c1.33 0 1.33-2 0-2h-15.9z"></path></symbol><symbol id="wysi-link" viewBox="0 0 24 24"><path d="M8,12a1,1,0,0,0,1,1h6a1,1,0,0,0,0-2H9A1,1,0,0,0,8,12Zm2,3H7A3,3,0,0,1,7,9h3a1,1,0,0,0,0-2H7A5,5,0,0,0,7,17h3a1,1,0,0,0,0-2Zm7-8H14a1,1,0,0,0,0,2h3a3,3,0,0,1,0,6H14a1,1,0,0,0,0,2h3A5,5,0,0,0,17,7Z"></path></symbol><symbol id="wysi-image" viewBox="0 0 24 24"><path d="M6 5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H6zm0 2h12a1 1 0 0 1 1 1v5.73l-.88-.88a3.06 3.06 0 0 0-4.24 0l-.88.88-2.88-2.88A3.06 3.06 0 0 0 8 10a3.06 3.06 0 0 0-2.12.85l-.88.88V8a1 1 0 0 1 1-1zm1.85 4.98a1 1 0 0 1 .85.27L13.45 17H6a1 1 0 0 1-.98-.92H5v-1.53l2.3-2.3a1 1 0 0 1 .55-.26zm8 2a1 1 0 0 1 .85.27l2.17 2.16c-.19.33-.55.59-.86.59h-1.72l-1.86-1.87.88-.88a1 1 0 0 1 .54-.28z"></path></symbol><symbol id="wysi-quote" viewBox="0 0 24 24"><path d="m9 6c-2.2 0-4 1.96-4 4.36v6c0 0.903 0.672 1.64 1.5 1.64h3c0.828 0 1.5-0.733 1.5-1.64v-3.27c0-0.903-0.672-1.64-1.5-1.64h-1.75c-0.414 0-0.75-0.367-0.75-0.818v-0.273c0-1.2 0.899-2.18 2-2.18h0.5c0.274 0 0.5-0.246 0.5-0.545v-1.09c0-0.298-0.226-0.545-0.5-0.545zm8 0c-2.2 0-4 1.96-4 4.36v6c0 0.903 0.672 1.64 1.5 1.64h3c0.828 0 1.5-0.733 1.5-1.64v-3.27c0-0.903-0.672-1.64-1.5-1.64h-1.75c-0.414 0-0.75-0.367-0.75-0.818v-0.273c0-1.2 0.899-2.18 2-2.18h0.5c0.274 0 0.5-0.246 0.5-0.545v-1.09c0-0.298-0.226-0.545-0.5-0.545z"></path></symbol><symbol id="wysi-hr" viewBox="0 0 24 24"><path d="m20 11h-16c-1.33 0-1.33 2 0 2 0 0 16-0.018 16 0 1.33 0 1.33-2 0-2z"></path></symbol><symbol id="wysi-removeFormat" viewBox="0 0 24 24"><path d="M7 6C5.67 6 5.67 8 7 8h3l-2 7c0 .02 2 0 2 0l2-7h3c1.33 0 1.33-2 0-2H7zm7.06 7c-.79-.04-1.49.98-.75 1.72l.78.78-.78.79c-.94.93.47 2.35 1.4 1.4l.79-.78.78.79c.94.93 2.35-.47 1.41-1.41l-.78-.79.78-.78c.94-.94-.47-2.35-1.4-1.41l-.8.79-.77-.79a.99.99 0 0 0-.66-.3zM7 16c-1.33 0-1.33 2 0 2 .02-.02 4 0 4 0 1.33 0 1.33-2 0-2H7z"></path></symbol><symbol id="wysi-delete" viewBox="0 0 24 24"><path d="M10,18a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,10,18ZM20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Zm-3-1a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,14,18Z"></path></symbol></svg>');o(e.body,t)}));var O="style";function _(t,e){var a=H("div"),i=w(t);return F(i,e),function(t){var e=Array.from(t.childNodes);if(!e||!e.length)return;var a=["BLOCKQUOTE","H1","H2","H3","H4","HR","P","OL","UL"],i=!1;e.forEach((function(t){if(3!==t.nodeType&&a.includes(t.tagName))i=!1;else if(i){var e=t.previousElementSibling;e&&e.appendChild(t)}else I(t,"p"),i=!0}))}(i),J(i,e),o(a,i),a.innerHTML}function I(t,e,a){var i=H(e),n=t.parentNode,o=t.attributes;if(i.innerHTML=t.innerHTML||t.textContent||t.outerHTML,a&&o)for(var r=0;r<o.length;r++)m(i,o[r].name,o[r].value);n.replaceChild(i,t)}function q(t,e){var a=s(t,O);if(a){var i=a.split(";").map((function(t){var e=t.split(":");return{name:e[0].trim(),value:e[1]}})).filter((function(t){return e.includes(t.name)})).map((function(t){return t.name+": "+t.value.trim()+";"})).join("");""!==i?m(t,O,i):f(t,O)}}function F(t,e){var a=Array.from(t.childNodes);a&&a.length&&a.forEach((function(a){if(1===a.nodeType){F(a,e);var i=v(a.tagName),n=e[i],o=Array.from(a.attributes);if(n){for(var r=n.attributes,l=n.styles,s=0;s<o.length;s++){var c=o[s].name;r.includes(o[s].name)||(c===O&&l.length?q(a,l):f(a,o[s].name))}n.alias&&I(a,n.alias,!0)}else"style"===i?d(t,a):a.replaceWith.apply(a,a.childNodes)}else 8===a.nodeType&&d(t,a)}))}function J(t,e){var a=Array.from(t.childNodes);a&&a.length&&a.forEach((function(a){if(1===a.nodeType){J(a,e);var i=v(a.tagName),n=e[i];n&&!n.isEmpty&&""===a.innerHTML.replace(/^\s+|\s+$/g,"").trim()&&d(t,a)}}))}var P=0;function G(e){var n=t.wysiGlobalTranslations||{},r=Object.assign({},n,e.translations||{}),s=e.tools||a.tools,c=e.el||a.el,d=U(s,r),f=function(t){var e=x(a.allowedTags);return t.forEach((function(t){var a=x(y[t]);if(a&&a.tags){var i=!!a.isEmpty,n=a.extraTags||[],o=a.alias||[],r=o.length?a.tags[0]:void 0,l=[].concat(a.tags,n,o),s=a.attributes||[],c=a.styles||[];l.forEach((function(a){e[a]={attributes:s,styles:c,alias:r,isEmpty:i},n.includes(a)||(e[a].toolName=t)}))}})),e}(s);(e.customTags||[]).forEach((function(t){if(t.tags){var e=t.attributes||[],a=t.styles||[],i=!!t.isEmpty;t.tags.forEach((function(t){f[t]={attributes:e,styles:a,isEmpty:i}}))}})),u(c).forEach((function(t){var a=t.previousElementSibling;if(a&&l(a,"wysi-wrapper"))W(a,e);else{var n=P++;i[n]=e,i[n].allowedTags=x(f);var r=H("div",{class:"wysi-wrapper"}),s=H("div",{class:"wysi-editor",contenteditable:!0,role:"textbox","aria-multiline":!0,"aria-label":N(t),"data-wid":n,_innerHTML:_(t.value,f)});o(r,d.cloneNode(!0)),o(r,s),t.before(r),W(r,e)}}))}function W(t,e){if("object"==typeof e)for(var a in e)switch(a){case"darkMode":case"autoGrow":case"autoHide":t.classList.toggle("wysi-"+v(a),!!e[a]);break;case"height":var i=e.height;if(!isNaN(i)){var n=t.lastChild;n.style.minHeight=i+"px",n.style.maxHeight=i+"px"}}}function K(t){u(t).forEach((function(t){var e=t.previousElementSibling;if(e&&l(e,"wysi-wrapper")){var a=z(e.lastChild);delete i[a],e.remove()}}))}function Q(t){var e=L(t.target).region,a=t.clipboardData;if(e&&a.types.includes("text/html")){var n=a.getData("text/html"),o=z(e),l=_(n,i[o].allowedTags);r("insertHTML",l),t.preventDefault()}}t.Wysi=function(){var t={destroy:K};function e(t){E((function(){G(t||{})}))}var a=function(a){e[a]=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];E(t[a],i)}};for(var i in t)a(i);return e}(),E((function(){r("styleWithCSS",!1),r("enableObjectResizing",!1),r("enableInlineTableEditing",!1),r("defaultParagraphSeparator","p"),g(e,"input",".wysi-editor",(function(t){var e=t.target,a=e.parentNode.nextElementSibling,n=z(e),o=i[n].onChange,r=e.innerHTML;a.value=r,function(t,e){t.dispatchEvent(new Event(e,{bubbles:!0}))}(a,"change"),o&&o(r)})),g(e,"paste",Q)}))}(window,document);
//# sourceMappingURL=wysi.min.js.map
